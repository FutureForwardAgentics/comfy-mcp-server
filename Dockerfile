# Generated by https://smithery.ai. See: https://smithery.ai/docs/config#dockerfile
# Use the latest Python image
FROM python:3.12-slim-bookworm

# Set the working directory
WORKDIR /app

# Copy the project files
COPY . .

# Install the dependencies
RUN pip install --no-cache-dir "mcp[cli]>=1.2.1"

# Set environment variable for the Comfy server URL
# This can be overridden at runtime with `docker run -e COMFY_URL=http://your-comfy-server-url:port ...`
ENV COMFY_URL=http://default-comfy-server-url:port

# Expose any necessary ports (if applicable)
# EXPOSE 8080

# Run the server
ENTRYPOINT ["python", "comfy-mcp-server.py"]
